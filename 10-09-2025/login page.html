<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Login ‚Äî Abhi</title>
  <style>
    :root{
      --accent:#6ee7b7;
      --muted:#9ca3af;
      font-family: Inter, system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
    }
    html,body{height:100%; overflow:hidden;}
    body{
      margin:0; min-height:100%; display:grid; place-items:center; color:#e6eef8;
      background: linear-gradient(270deg, #0f172a, #1e3a8a, #0b1220);
      background-size: 600% 600%;
      animation: gradientBG 15s ease infinite;
    }

    @keyframes gradientBG {
      0% {background-position:0% 50%}
      50% {background-position:100% 50%}
      100% {background-position:0% 50%}
    }

    /* Bubble styling */
    .bubble{
      position:absolute;
      bottom:-150px;
      background:rgba(255,255,255,0.15);
      border-radius:50%;
      pointer-events:none;
      animation: rise 20s linear infinite;
    }

    @keyframes rise{
      0%{transform:translateY(0) scale(1); opacity:0;}
      10%{opacity:1;}
      100%{transform:translateY(-120vh) scale(1.5); opacity:0;}
    }

    .container{width:100%; max-width:420px; margin:24px; z-index:10; position:relative;}
    .card{
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.02));
      border-radius:14px; padding:28px; box-shadow: 0 8px 30px rgba(2,6,23,0.6); backdrop-filter: blur(6px);
      border:1px solid rgba(255,255,255,0.04);
    }
    .logo{display:flex; align-items:center; gap:12px; margin-bottom:18px}
    .logo .mark{width:44px; height:44px; display:grid; place-items:center; border-radius:10px; background:linear-gradient(135deg,var(--accent), #60a5fa); color:#05202b; font-weight:700}
    h1{margin:0 0 6px 0; font-size:20px}
    p.sub{margin:0 0 18px 0; color:var(--muted); font-size:13px}

    form{display:grid; gap:12px}
    label{font-size:13px; color:var(--muted)}
    input[type="text"], input[type="password"], input[type="email"]{
      width:100%; padding:12px 14px; border-radius:10px; border:1px solid rgba(255,255,255,0.04); background:rgba(255,255,255,0.04); color:inherit; outline:none;
      font-size:14px; transition:box-shadow .15s, transform .06s;
    }
    input:focus{box-shadow:0 6px 18px rgba(0,0,0,0.45); transform:translateY(-1px)}

    .row{display:flex; gap:12px; align-items:center; justify-content:space-between}
    .checkbox{display:flex; align-items:center; gap:8px}
    .btn{
      width:100%; padding:12px 14px; border-radius:10px; border:0; font-weight:600; cursor:pointer; font-size:15px;
      background: linear-gradient(90deg,var(--accent), #60a5fa); color:#042025;
    }
    .muted-link{background:none; border:0; color:var(--muted); cursor:pointer; font-size:13px}

    .helper{font-size:13px; color:var(--muted); text-align:center; margin-top:10px}
    .error{color:#ffb4ab; font-size:13px}

    .password-wrap{position:relative}
    .toggle-eye{position:absolute; right:10px; top:50%; transform:translateY(-50%); background:none; border:0; cursor:pointer; color:var(--muted)}

    @media (max-width:420px){ .card{padding:20px} }
  </style>
</head>
<body>
  <!-- Bubble container -->
  <div id="bubbles"></div>

  <div class="container">
    <div class="card">
      <div class="logo">
        <div class="mark">AR</div>
        <div>
          <h1>Welcome back, Abhi</h1>
          <p class="sub">Sign in to continue to your repo dashboard.</p>
        </div>
      </div>

      <form id="loginForm" novalidate>
        <div>
          <label for="email">Email</label>
          <input id="email" name="email" type="email" placeholder="you@example.com" required />
          <div id="emailErr" class="error" aria-live="polite" style="display:none"></div>
        </div>

        <div>
          <label for="password">Password</label>
          <div class="password-wrap">
            <input id="password" name="password" type="password" placeholder="Your password" required minlength="6" />
            <button type="button" class="toggle-eye" id="togglePwd" aria-label="Show password">üëÅÔ∏è</button>
          </div>
          <div id="pwdErr" class="error" aria-live="polite" style="display:none"></div>
        </div>

        <div class="row">
          <label class="checkbox"><input type="checkbox" id="remember" /> Remember me</label>
          <button type="button" class="muted-link">Forgot?</button>
        </div>

        <button class="btn" id="submitBtn" type="submit">Sign in</button>
      </form>

      <div class="helper">Don't have an account? <button class="muted-link">Create one</button></div>
    </div>
  </div>

  <script>
    const form = document.getElementById('loginForm');
    const email = document.getElementById('email');
    const password = document.getElementById('password');
    const emailErr = document.getElementById('emailErr');
    const pwdErr = document.getElementById('pwdErr');
    const toggle = document.getElementById('togglePwd');

    toggle.addEventListener('click', () => {
      const type = password.getAttribute('type') === 'password' ? 'text' : 'password';
      password.setAttribute('type', type);
      toggle.textContent = type === 'password' ? 'üëÅÔ∏è' : 'üôà';
    });

    function validateEmail(v){
      return /^\S+@\S+\.\S+$/.test(v);
    }

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      let ok = true;
      emailErr.style.display = 'none'; pwdErr.style.display = 'none';

      if(!validateEmail(email.value.trim())){
        emailErr.innerText = 'Please enter a valid email.';
        emailErr.style.display = 'block';
        ok = false;
      }
      if(password.value.length < 6){
        pwdErr.innerText = 'Password must be at least 6 characters.';
        pwdErr.style.display = 'block';
        ok = false;
      }

      if(!ok) return;

      const data = { email: email.value.trim(), password: password.value };

      fetch('/api/login', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
      }).then(res => {
        if(res.ok) {
          alert('Login successful ‚Äî (demo)');
        } else {
          pwdErr.innerText = 'Invalid credentials (demo backend returned ' + res.status + ')';
          pwdErr.style.display = 'block';
        }
      }).catch(err => {
        console.warn(err);
        alert('Demo: no backend found. The form validated successfully.');
      });
    });

    // Bubble generation
    const bubbleContainer = document.getElementById('bubbles');
    function createBubble(){
      const bubble = document.createElement('div');
      const size = Math.random()*40+10; // 10px - 50px
      bubble.classList.add('bubble');
      bubble.style.width = size+'px';
      bubble.style.height = size+'px';
      bubble.style.left = Math.random()*100+'vw';
      bubble.style.animationDuration = (8+Math.random()*12)+'s';
      document.body.appendChild(bubble);
      setTimeout(()=>bubble.remove(),20000);
    }
    setInterval(createBubble, 600);
  </script>
</body>
</html>